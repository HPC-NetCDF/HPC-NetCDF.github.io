<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NetCDF-Fortran: 4 Dimensions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="netcdf-50x50.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NetCDF-Fortran
   &#160;<span id="projectnumber">4.5.0-development</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('f90_dimensions.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">4 Dimensions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#f90-dimensions-introduction">4.1 Dimensions Introduction </a></li>
<li class="level1"><a href="#f90-nf90_def_dim">4.2 NF90_DEF_DIM </a></li>
<li class="level1"><a href="#f90-nf90_inq_dimid">4.3 NF90_INQ_DIMID </a></li>
<li class="level1"><a href="#f90-nf90_inquire_dimension">4.4 NF90_INQUIRE_DIMENSION </a></li>
<li class="level1"><a href="#f90-nf90_rename_dim">4.5 NF90_RENAME_DIM </a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="f90-dimensions-introduction"></a>
4.1 Dimensions Introduction </h1>
<p>Dimensions for a netCDF dataset are defined when it is created, while the netCDF dataset is in define mode. Additional dimensions may be added later by reentering define mode. A netCDF dimension has a name and a length. At most one dimension in a netCDF dataset can have the unlimited length, which means variables using this dimension can grow along this dimension.</p>
<p>There is a suggested limit (512) to the number of dimensions that can be defined in a single netCDF dataset. The limit is the value of the constant NF90_MAX_DIMS. The purpose of the limit is to make writing generic applications simpler. They need only provide an array of NF90_MAX_DIMS dimensions to handle any netCDF dataset. The implementation of the netCDF library does not enforce this advisory maximum, so it is possible to use more dimensions, if necessary, but netCDF utilities that assume the advisory maximums may not be able to handle the resulting netCDF datasets.</p>
<p>Ordinarily, the name and length of a dimension are fixed when the dimension is first defined. The name may be changed later, but the length of a dimension (other than the unlimited dimension) cannot be changed without copying all the data to a new netCDF dataset with a redefined dimension length.</p>
<p>A netCDF dimension in an open netCDF dataset is referred to by a small integer called a dimension ID. In the Fortran 90 interface, dimension IDs are 1, 2, 3, ..., in the order in which the dimensions were defined.</p>
<p>Operations supported on dimensions are:</p>
<ul>
<li>Create a dimension, given its name and length.</li>
<li>Get a dimension ID from its name.</li>
<li>Get a dimensionâ€™s name and length from its ID.</li>
<li>Rename a dimension.</li>
</ul>
<h1><a class="anchor" id="f90-nf90_def_dim"></a>
4.2 NF90_DEF_DIM </h1>
<p>The function NF90_DEF_DIM adds a new dimension to an open netCDF dataset in define mode. It returns (as an argument) a dimension ID, given the netCDF ID, the dimension name, and the dimension length. At most one unlimited length dimension, called the record dimension, may be defined for each netCDF dataset.</p>
<h2>Usage</h2>
<div class="fragment"><div class="line"><span class="keyword">function </span>nf90_def_dim(ncid, name, len, dimid)</div><div class="line">  <span class="keywordtype">integer</span>,             <span class="keywordtype">intent( in)</span> :: ncid</div><div class="line">  <span class="keywordtype">character (len = *)</span>, <span class="keywordtype">intent( in)</span> :: name</div><div class="line">  <span class="keywordtype">integer</span>,             <span class="keywordtype">intent( in)</span> :: len</div><div class="line">  <span class="keywordtype">integer</span>,             <span class="keywordtype">intent(out)</span> :: dimid</div><div class="line">  <span class="keywordtype">integer</span>                          :: nf90_def_dim</div></div><!-- fragment --><p><code>ncid</code></p>
<p>: NetCDF ID, from a previous call to NF90_OPEN or NF90_CREATE.</p>
<p><code>name</code></p>
<p>: Dimension name.</p>
<p><code>len</code></p>
<p>: Length of dimension; that is, number of values for this dimension as an index to variables that use it. This should be either a positive integer or the predefined constant NF90_UNLIMITED.</p>
<p><code>dimid</code></p>
<p>: Returned dimension ID.</p>
<h2>Errors</h2>
<p>NF90_DEF_DIM returns the value NF90_NOERR if no errors occurred. Otherwise, the returned status indicates an error. Possible causes of errors include:</p>
<ul>
<li>The netCDF dataset is not in definition mode.</li>
<li>The specified dimension name is the name of another existing dimension.</li>
<li>The specified length is not greater than zero.</li>
<li>The specified length is unlimited, but there is already an unlimited length dimension defined for this netCDF dataset.</li>
<li>The specified netCDF ID does not refer to an open netCDF dataset.</li>
</ul>
<h2>Example</h2>
<p>Here is an example using NF90_DEF_DIM to create a dimension named lat of length 18 and a unlimited dimension named rec in a new netCDF dataset named foo.nc:</p>
<div class="fragment"><div class="line"><span class="keywordtype">use </span>netcdf</div><div class="line"><span class="keywordtype">implicit none</span></div><div class="line"><span class="keywordtype">integer</span> :: ncid, status, latdimid, recorddimid</div><div class="line">...</div><div class="line">status = nf90_create(<span class="stringliteral">&quot;foo.nc&quot;</span>, nf90_noclobber, ncid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">...</div><div class="line">status = nf90_def_dim(ncid, <span class="stringliteral">&quot;Lat&quot;</span>, 18, latdimid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">status = nf90_def_dim(ncid, <span class="stringliteral">&quot;Record&quot;</span>, nf90_unlimited, recorddimid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div></div><!-- fragment --><h1><a class="anchor" id="f90-nf90_inq_dimid"></a>
4.3 NF90_INQ_DIMID </h1>
<p>The function NF90_INQ_DIMID returns (as an argument) the ID of a netCDF dimension, given the name of the dimension. If ndims is the number of dimensions defined for a netCDF dataset, each dimension has an ID between 1 and ndims.</p>
<h2>Usage</h2>
<div class="fragment"><div class="line"><span class="keyword">function </span>nf90_inq_dimid(ncid, name, dimid)</div><div class="line">  <span class="keywordtype">integer</span>,             <span class="keywordtype">intent( in)</span> :: ncid</div><div class="line">  <span class="keywordtype">character (len = *)</span>, <span class="keywordtype">intent( in)</span> :: name</div><div class="line">  <span class="keywordtype">integer</span>,             <span class="keywordtype">intent(out)</span> :: dimid</div><div class="line">  <span class="keywordtype">integer</span>                          :: nf90_inq_dimid</div></div><!-- fragment --><p><code>ncid</code></p>
<p>: NetCDF ID, from a previous call to NF90_OPEN or NF90_CREATE.</p>
<p><code>name</code></p>
<p>: Dimension name.</p>
<p><code>dimid</code></p>
<p>: Returned dimension ID.</p>
<h2>Errors</h2>
<p>NF90_INQ_DIMID returns the value NF90_NOERR if no errors occurred. Otherwise, the returned status indicates an error. Possible causes of errors include:</p>
<ul>
<li>The name that was specified is not the name of a dimension in the netCDF dataset.</li>
<li>The specified netCDF ID does not refer to an open netCDF dataset.</li>
</ul>
<h2>Example</h2>
<p>Here is an example using NF90_INQ_DIMID to determine the dimension ID of a dimension named lat, assumed to have been defined previously in an existing netCDF dataset named foo.nc:</p>
<div class="fragment"><div class="line"><span class="keywordtype">use </span>netcdf</div><div class="line"><span class="keywordtype">implicit none</span></div><div class="line"><span class="keywordtype">integer</span> :: ncid, status, latdimid</div><div class="line">...</div><div class="line">status = nf90_open(<span class="stringliteral">&quot;foo.nc&quot;</span>, nf90_nowrite, ncid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">...</div><div class="line">status = nf90_inq_dimid(ncid, <span class="stringliteral">&quot;Lat&quot;</span>, latdimid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div></div><!-- fragment --><h1><a class="anchor" id="f90-nf90_inquire_dimension"></a>
4.4 NF90_INQUIRE_DIMENSION </h1>
<p>This function information about a netCDF dimension. Information about a dimension includes its name and its length. The length for the unlimited dimension, if any, is the number of records written so far.</p>
<h2>Usage</h2>
<div class="fragment"><div class="line"><span class="keyword">function </span>nf90_inquire_dimension(ncid, dimid, name, len)</div><div class="line">  <span class="keywordtype">integer</span>,                       <span class="keywordtype">intent( in)</span> :: ncid, dimid</div><div class="line">  <span class="keywordtype">character (len = *)</span>, <span class="keywordtype">optional</span>, <span class="keywordtype">intent(out)</span> :: name</div><div class="line">  <span class="keywordtype">integer</span>,             <span class="keywordtype">optional</span>, <span class="keywordtype">intent(out)</span> :: len</div><div class="line">  <span class="keywordtype">integer</span>                                    :: nf90_inquire_dimension</div></div><!-- fragment --><p><code>ncid</code></p>
<p>: NetCDF ID, from a previous call to NF90_OPEN or NF90_CREATE.</p>
<p><code>dimid</code></p>
<p>: Dimension ID, from a previous call to NF90_INQ_DIMID or NF90_DEF_DIM.</p>
<p><code>name</code></p>
<p>: Returned dimension name. The caller must allocate space for the returned name. The maximum possible length, in characters, of a dimension name is given by the predefined constant NF90_MAX_NAME.</p>
<p><code>len</code></p>
<p>: Returned length of dimension. For the unlimited dimension, this is the current maximum value used for writing any variables with this dimension, that is the maximum record number.</p>
<h2>Errors</h2>
<p>These functions return the value NF90_NOERR if no errors occurred. Otherwise, the returned status indicates an error. Possible causes of errors include:</p>
<ul>
<li>The dimension ID is invalid for the specified netCDF dataset.</li>
<li>The specified netCDF ID does not refer to an open netCDF dataset.</li>
</ul>
<h2>Example</h2>
<p>Here is an example using NF90_INQ_DIM to determine the length of a dimension named lat, and the name and current maximum length of the unlimited dimension for an existing netCDF dataset named foo.nc:</p>
<div class="fragment"><div class="line"><span class="keywordtype">use </span>netcdf</div><div class="line"><span class="keywordtype">implicit none</span></div><div class="line"><span class="keywordtype">integer</span> :: ncid, status, latdimid, recorddimid</div><div class="line"><span class="keywordtype">integer</span> :: nlats, nrecords</div><div class="line"><span class="keywordtype">character(len = nf90_max_name)</span> :: recorddimname</div><div class="line">...</div><div class="line">status = nf90_open(<span class="stringliteral">&quot;foo.nc&quot;</span>, nf90_nowrite, ncid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line"><span class="comment">! Get ID of unlimited dimension</span></div><div class="line">status = nf90_inquire(ncid, unlimiteddimid = recorddimid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">...</div><div class="line">status = nf90_inq_dimid(ncid, <span class="stringliteral">&quot;Lat&quot;</span>, latdimid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line"><span class="comment">! How many values of &quot;lat&quot; are there?</span></div><div class="line">status = nf90_inquire_dimension(ncid, latdimid, len = nlats)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line"><span class="comment">! What is the name of the unlimited dimension, how many records are there?</span></div><div class="line">status = nf90_inquire_dimension(ncid, recorddimid, &amp;</div><div class="line">                                name = recorddimname, len = records)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div></div><!-- fragment --><h1><a class="anchor" id="f90-nf90_rename_dim"></a>
4.5 NF90_RENAME_DIM </h1>
<p>The function NF90_RENAME_DIM renames an existing dimension in a netCDF dataset open for writing. If the new name is longer than the old name, the netCDF dataset must be in define mode. You cannot rename a dimension to have the same name as another dimension.</p>
<h2>Usage</h2>
<div class="fragment"><div class="line"><span class="keyword">function </span>nf90_rename_dim(ncid, dimid, name)</div><div class="line">  <span class="keywordtype">integer</span>,             <span class="keywordtype">intent( in)</span> :: ncid</div><div class="line">  <span class="keywordtype">character (len = *)</span>, <span class="keywordtype">intent( in)</span> :: name</div><div class="line">  <span class="keywordtype">integer</span>,             <span class="keywordtype">intent( in)</span> :: dimid</div><div class="line">  <span class="keywordtype">integer</span>                          :: nf90_rename_dim</div></div><!-- fragment --><p><code>ncid</code></p>
<p>: NetCDF ID, from a previous call to NF90_OPEN or NF90_CREATE.</p>
<p><code>dimid</code></p>
<p>: Dimension ID, from a previous call to NF90_INQ_DIMID or NF90_DEF_DIM.</p>
<p><code>name</code></p>
<p>: New dimension name.</p>
<h2>Errors</h2>
<p>NF90_RENAME_DIM returns the value NF90_NOERR if no errors occurred. Otherwise, the returned status indicates an error. Possible causes of errors include:</p>
<ul>
<li>The new name is the name of another dimension.</li>
<li>The dimension ID is invalid for the specified netCDF dataset.</li>
<li>The specified netCDF ID does not refer to an open netCDF dataset.</li>
<li>The new name is longer than the old name and the netCDF dataset is not in define mode.</li>
</ul>
<h2>Example</h2>
<p>Here is an example using NF90_RENAME_DIM to rename the dimension lat to latitude in an existing netCDF dataset named foo.nc:</p>
<div class="fragment"><div class="line"><span class="keywordtype">use </span>netcdf</div><div class="line"><span class="keywordtype">implicit none</span></div><div class="line"><span class="keywordtype">integer</span> :: ncid, status, latdimid</div><div class="line">...</div><div class="line">status = nf90_open(<span class="stringliteral">&quot;foo.nc&quot;</span>, nf90_write, ncid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">...</div><div class="line"><span class="comment">! Put in define mode so we can rename the dimension</span></div><div class="line">status = nf90_redef(ncid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line"><span class="comment">! Get the dimension ID for &quot;Lat&quot;...</span></div><div class="line">status = nf90_inq_dimid(ncid, <span class="stringliteral">&quot;Lat&quot;</span>, latdimid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line"><span class="comment">! ... and change the name to &quot;Latitude&quot;.</span></div><div class="line">status = nf90_rename_dim(ncid, latdimid, <span class="stringliteral">&quot;Latitude&quot;</span>)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line"><span class="comment">! Leave define mode</span></div><div class="line">status = nf90_enddef(ncid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->

<hr size="2"/>
<address style="text-align: center;">
<a href="http://www.unidata.ucar.edu/software/netcdf/">Return to the Main Unidata NetCDF page.</a><br>
<img src="http://www.unidata.ucar.edu/images/logos/uniLogo.png">
<address style="text-align: right;"><small>
Generated on Wed Jan 17 2018 10:01:47 for NetCDF-Fortran. NetCDF is
a <a href="http://www.unidata.ucar.edu/">Unidata</a> library.</small></address>
</body>
</html>
