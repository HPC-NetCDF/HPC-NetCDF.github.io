<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NetCDF-Fortran: 7 Attributes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="netcdf-50x50.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NetCDF-Fortran
   &#160;<span id="projectnumber">4.5.0-development</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('f90-attributes.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">7 Attributes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#f90-attributes-introduction">7.1 Attributes Introduction </a></li>
<li class="level1"><a href="#f90-create-an-attribute-nf90_put_att">7.2 Create an Attribute: NF90_PUT_ATT </a></li>
<li class="level1"><a href="#f90-get-information-about-an-attribute-nf90_inquire_attribute-and-nf90_inq_attname">7.3 Get Information about an Attribute: NF90_INQUIRE_ATTRIBUTE and NF90_INQ_ATTNAME </a></li>
<li class="level1"><a href="#f90-get-attributes-values-nf90_get_att">7.4 Get Attribute’s Values: NF90_GET_ATT </a></li>
<li class="level1"><a href="#f90-copy-attribute-from-one-netcdf-to-another-nf90_copy_att">7.5 Copy Attribute from One NetCDF to Another: NF90_COPY_ATT </a></li>
<li class="level1"><a href="#f90-rename-an-attribute-nf90_rename_att">7.6 Rename an Attribute: NF90_RENAME_ATT </a></li>
<li class="level1"><a href="#f90-nf90_del_att">7.7 NF90_DEL_ATT </a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="f90-attributes-introduction"></a>
7.1 Attributes Introduction </h1>
<p>Attributes may be associated with each netCDF variable to specify such properties as units, special values, maximum and minimum valid values, scaling factors, and offsets. Attributes for a netCDF dataset are defined when the dataset is first created, while the netCDF dataset is in define mode. Additional attributes may be added later by reentering define mode. A netCDF attribute has a netCDF variable to which it is assigned, a name, a type, a length, and a sequence of one or more values. An attribute is designated by its variable ID and name. When an attribute name is not known, it may be designated by its variable ID and number in order to determine its name, using the function NF90_INQ_ATTNAME.</p>
<p>The attributes associated with a variable are typically defined immediately after the variable is created, while still in define mode. The data type, length, and value of an attribute may be changed even when in data mode, as long as the changed attribute requires no more space than the attribute as originally defined.</p>
<p>It is also possible to have attributes that are not associated with any variable. These are called global attributes and are identified by using NF90_GLOBAL as a variable pseudo-ID. Global attributes are usually related to the netCDF dataset as a whole and may be used for purposes such as providing a title or processing history for a netCDF dataset.</p>
<p>Attributes are much more useful when they follow established community conventions. See <a href="netcdf.html#Attribute-Conventions">Attribute Conventions</a> in {No value for ‘n-man’}.</p>
<p>Operations supported on attributes are:</p>
<ul>
<li>Create an attribute, given its variable ID, name, data type, length, and value.</li>
<li>Get attribute’s data type and length from its variable ID and name.</li>
<li>Get attribute’s value from its variable ID and name.</li>
<li>Copy attribute from one netCDF variable to another.</li>
<li>Get name of attribute from its number.</li>
<li>Rename an attribute.</li>
<li>Delete an attribute.</li>
</ul>
<h1><a class="anchor" id="f90-create-an-attribute-nf90_put_att"></a>
7.2 Create an Attribute: NF90_PUT_ATT </h1>
<p>The function NF90_PUT_ATTadds or changes a variable attribute or global attribute of an open netCDF dataset. If this attribute is new, or if the space required to store the attribute is greater than before, the netCDF dataset must be in define mode.</p>
<h2>Usage</h2>
<p>Although it’s possible to create attributes of all types, text and double attributes are adequate for most purposes.</p>
<div class="fragment"><div class="line"><span class="keyword">function </span>nf90_put_att(ncid, varid, name, values)</div><div class="line">  <span class="keywordtype">integer</span>,            <span class="keywordtype">intent( in)</span> :: ncid, varid</div><div class="line">  <span class="keywordtype">character(len = *)</span>, <span class="keywordtype">intent( in)</span> :: name</div><div class="line">  scalar <span class="keywordtype">character</span> string or any numeric <span class="keywordtype">type</span>, scalar, or array of rank 1, &amp;</div><div class="line">                      <span class="keywordtype">intent( in)</span> :: values</div><div class="line">  <span class="keywordtype">integer</span>                         :: nf90_put_att</div></div><!-- fragment --><p><code>ncid</code></p>
<p>: NetCDF ID, from a previous call to NF90_OPEN or NF90_CREATE.</p>
<p><code>varid</code></p>
<p>: Variable ID of the variable to which the attribute will be assigned or NF90_GLOBAL for a global attribute.</p>
<p><code>name</code></p>
<p>: Attribute name. Attribute name conventions are assumed by some netCDF generic applications, e.g., ‘units’ as the name for a string attribute that gives the units for a netCDF variable. See <a href="netcdf.html#Attribute-Conventions">Attribute Conventions</a> in {No value for ‘n-man’}.</p>
<p><code>values</code></p>
<p>: A numeric rank 1 array of attribute values or a scalar. The external data type of the attribute is set to match the internal representation of the argument, that is if values is a two byte integer array, the attribute will be of type NF90_INT2. Fortran 90 intrinsic functions can be used to convert attributes to the desired type.</p>
<h2>Errors</h2>
<p>NF90_PUT_ATT returns the value NF90_NOERR if no errors occurred. Otherwise, the returned status indicates an error. Possible causes of errors include:</p>
<ul>
<li>The variable ID is invalid for the specified netCDF dataset.</li>
<li>The specified netCDF type is invalid.</li>
<li>The specified length is negative.</li>
<li>The specified open netCDF dataset is in data mode and the specified attribute would expand.</li>
<li>The specified open netCDF dataset is in data mode and the specified attribute does not already exist.</li>
<li>The specified netCDF ID does not refer to an open netCDF dataset.</li>
<li>The number of attributes for this variable exceeds NF90_MAX_ATTRS.</li>
</ul>
<h2>Example</h2>
<p>Here is an example using NF90_PUT_ATT to add a variable attribute named valid_range for a netCDF variable named rh and a global attribute named title to an existing netCDF dataset named foo.nc:</p>
<div class="fragment"><div class="line"><span class="keywordtype">use </span>netcdf</div><div class="line"><span class="keywordtype">implicit none</span></div><div class="line"><span class="keywordtype">integer</span> :: ncid, status, rhvarid</div><div class="line">...</div><div class="line">status = nf90_open(<span class="stringliteral">&quot;foo.nc&quot;</span>, nf90_write, ncid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">...</div><div class="line"><span class="comment">! Enter define mode so we can add the attribute</span></div><div class="line">status = nf90_redef(ncid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line"><span class="comment">! Get the variable ID for &quot;rh&quot;...</span></div><div class="line">status = nf90_inq_varid(ncid, <span class="stringliteral">&quot;rh&quot;</span>, rhvarid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line"><span class="comment">! ...  put the range attribute, setting it to eight byte reals...</span></div><div class="line">status = nf90_put_att(ncid, rhvarid, <span class="stringliteral">&quot;valid_range&quot;</span>, <span class="keywordtype">real</span>((/ 0, 100 /))</div><div class="line"><span class="comment">! ... and the title attribute.</span></div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">status = nf90_put_att(ncid, rhvarid, <span class="stringliteral">&quot;title&quot;</span>, <span class="stringliteral">&quot;example netCDF dataset&quot;</span>) )</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line"><span class="comment">! Leave define mode</span></div><div class="line">status = nf90_enddef(ncid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div></div><!-- fragment --><h1><a class="anchor" id="f90-get-information-about-an-attribute-nf90_inquire_attribute-and-nf90_inq_attname"></a>
7.3 Get Information about an Attribute: NF90_INQUIRE_ATTRIBUTE and NF90_INQ_ATTNAME </h1>
<p>The function NF90_INQUIRE_ATTRIBUTE returns information about a netCDF attribute given the variable ID and attribute name. Information about an attribute includes its type, length, name, and number. See NF90_GET_ATT for getting attribute values.</p>
<p>The function NF90_INQ_ATTNAME gets the name of an attribute, given its variable ID and number. This function is useful in generic applications that need to get the names of all the attributes associated with a variable, since attributes are accessed by name rather than number in all other attribute functions. The number of an attribute is more volatile than the name, since it can change when other attributes of the same variable are deleted. This is why an attribute number is not called an attribute ID.</p>
<h2>Usage</h2>
<div class="fragment"><div class="line"><span class="keyword">function </span>nf90_inquire_attribute(ncid, varid, name, xtype, len, attnum)</div><div class="line">  <span class="keywordtype">integer</span>,             <span class="keywordtype">intent( in)</span>           :: ncid, varid</div><div class="line">  <span class="keywordtype">character (len = *)</span>, <span class="keywordtype">intent( in)</span>           :: name</div><div class="line">  <span class="keywordtype">integer</span>,             <span class="keywordtype">intent(out)</span>, <span class="keywordtype">optional</span> :: xtype, len, attnum</div><div class="line">  <span class="keywordtype">integer</span>                                    :: nf90_inquire_attribute</div><div class="line"><span class="keyword">function </span>nf90_inq_attname(ncid, varid, attnum, name)</div><div class="line">  <span class="keywordtype">integer</span>,             <span class="keywordtype">intent( in)</span> :: ncid, varid, attnum</div><div class="line">  <span class="keywordtype">character (len = *)</span>, <span class="keywordtype">intent(out)</span> :: name</div><div class="line">  <span class="keywordtype">integer</span>                          :: nf90_inq_attname</div></div><!-- fragment --><p><code>ncid</code></p>
<p>: NetCDF ID, from a previous call to NF90_OPEN or NF90_CREATE.</p>
<p><code>varid</code></p>
<p>: Variable ID of the attribute’s variable, or NF90_GLOBAL for a global attribute.</p>
<p><code>name</code></p>
<p>: Attribute name. For NF90_INQ_ATTNAME, this is a pointer to the location for the returned attribute name.</p>
<p><code>xtype</code></p>
<p>: Returned attribute type, one of the set of predefined netCDF external data types. The valid netCDF external data types are NF90_BYTE, NF90_CHAR, NF90_SHORT, NF90_INT, NF90_FLOAT, and NF90_DOUBLE.</p>
<p><code>len</code></p>
<p>: Returned number of values currently stored in the attribute. For a string-valued attribute, this is the number of characters in the string.</p>
<p><code>attnum</code></p>
<p>: For NF90_INQ_ATTNAME, the input attribute number; for NF90_INQ_ATTID, the returned attribute number. The attributes for each variable are numbered from 1 (the first attribute) to NATTS, where NATTS is the number of attributes for the variable, as returned from a call to NF90_INQ_VARNATTS.</p>
<p>(If you already know an attribute name, knowing its number is not very useful, because accessing information about an attribute requires its name.)</p>
<h2>Errors</h2>
<p>Each function returns the value NF90_NOERR if no errors occurred. Otherwise, the returned status indicates an error. Possible causes of errors include:</p>
<ul>
<li>The variable ID is invalid for the specified netCDF dataset.</li>
<li>The specified attribute does not exist.</li>
<li>The specified netCDF ID does not refer to an open netCDF dataset.</li>
<li>For NF90_INQ_ATTNAME, the specified attribute number is negative or more than the number of attributes defined for the specified variable.</li>
</ul>
<h2>Example</h2>
<p>Here is an example using NF90_INQUIRE_ATTRIBUTE to inquire about the lengths of an attribute named valid_range for a netCDF variable named rh and a global attribute named title in an existing netCDF dataset named foo.nc:</p>
<div class="fragment"><div class="line"><span class="keywordtype">use </span>netcdf</div><div class="line"><span class="keywordtype">implicit none</span></div><div class="line"><span class="keywordtype">integer</span> :: ncid, status</div><div class="line"><span class="keywordtype">integer</span> :: rhvarid                       <span class="comment">! Variable ID</span></div><div class="line"><span class="keywordtype">integer</span> :: validrangelength, titlelength <span class="comment">! Attribute lengths</span></div><div class="line">...</div><div class="line">status = nf90_open(<span class="stringliteral">&quot;foo.nc&quot;</span>, nf90_nowrite, ncid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">...</div><div class="line"><span class="comment">! Get the variable ID for &quot;rh&quot;...</span></div><div class="line">status = nf90_inq_varid(ncid, <span class="stringliteral">&quot;rh&quot;</span>, rhvarid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line"><span class="comment">! ...  get the length of the &quot;valid_range&quot; attribute...</span></div><div class="line">status = nf90_inquire_attribute(ncid, rhvarid, <span class="stringliteral">&quot;valid_range&quot;</span>, &amp;</div><div class="line">                          len = validrangelength)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line"><span class="comment">! ... and the global title attribute.</span></div><div class="line">status = nf90_inquire_attribute(ncid, nf90_global, <span class="stringliteral">&quot;title&quot;</span>, len = titlelength)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div></div><!-- fragment --><h1><a class="anchor" id="f90-get-attributes-values-nf90_get_att"></a>
7.4 Get Attribute’s Values: NF90_GET_ATT </h1>
<p>Function nf90_get_att gets the value(s) of a netCDF attribute, given its variable ID and name.</p>
<h2>Usage</h2>
<div class="fragment"><div class="line"><span class="keyword">function </span>nf90_get_att(ncid, varid, name, values)</div><div class="line">  <span class="keywordtype">integer</span>,            <span class="keywordtype">intent( in)</span> :: ncid, varid</div><div class="line">  <span class="keywordtype">character(len = *)</span>, <span class="keywordtype">intent( in)</span> :: name</div><div class="line">  any valid <span class="keywordtype">type</span>, scalar or array of rank 1, &amp;</div><div class="line">                      <span class="keywordtype">intent(out)</span> :: values</div><div class="line">  <span class="keywordtype">integer</span>                         :: nf90_get_att</div></div><!-- fragment --><p><code>ncid</code></p>
<p>: NetCDF ID, from a previous call to NF90_OPEN or NF90_CREATE.</p>
<p><code>varid</code></p>
<p>: Variable ID of the attribute’s variable, or NF90_GLOBAL for a global attribute.</p>
<p><code>name</code></p>
<p>: Attribute name.</p>
<p><code>values</code></p>
<p>: Returned attribute values. All elements of the vector of attribute values are returned, so you must provide enough space to hold them. If you don’t know how much space to reserve, call NF90_INQUIRE_ATTRIBUTE first to find out the length of the attribute. If there is only a single attribute values may be a scalar. If the attribute is of type character values should be a varble of type character with the len Fortran 90 attribute set to an appropriate value (i.e. character (len = 80) :: values). You cannot read character data from a numeric variable or numeric data from a text variable. For numeric data, if the type of data differs from the netCDF variable type, type conversion will occur. See <a href="netcdf.html#Type-Conversion">Type Conversion</a> in NetCDF Users Guide.</p>
<h2>Errors</h2>
<div class="fragment"><div class="line">nf90\_get\_att\_ <span class="keyword">type</span> returns the <span class="keywordtype">value</span> nf90\_noerr <span class="keywordflow">if</span> no errors</div><div class="line">occurred. otherwise, the returned status indicates an error. possible</div><div class="line">causes of errors include:</div><div class="line"></div><div class="line">-   the variable id is invalid for the specified netcdf dataset.</div><div class="line">-   the specified attribute does not exist.</div><div class="line">-   the specified netcdf id does not refer to an <span class="keyword">open</span> netcdf dataset.</div><div class="line">-   one or more of the attribute values are out of the range of values</div><div class="line">    representable by the desired type.</div></div><!-- fragment --><h2>Example</h2>
<p>Here is an example using NF90_GET_ATT to determine the values of an attribute named valid_range for a netCDF variable named rh and a global attribute named title in an existing netCDF dataset named foo.nc. In this example, it is assumed that we don’t know how many values will be returned, so we first inquire about the length of the attributes to make sure we have enough space to store them:</p>
<div class="fragment"><div class="line"><span class="keywordtype">use </span>netcdf</div><div class="line"><span class="keywordtype">implicit none</span></div><div class="line"><span class="keywordtype">integer</span>              :: ncid, status</div><div class="line"><span class="keywordtype">integer</span>              :: rhvarid                       <span class="comment">! Variable ID</span></div><div class="line"><span class="keywordtype">integer</span>              :: validrangelength, titlelength <span class="comment">! Attribute lengths</span></div><div class="line"><span class="keywordtype">real</span>, <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">allocatable</span>, &amp;</div><div class="line">                     :: validrange</div><div class="line"><span class="keywordtype">character (len = 80)</span> :: title</div><div class="line">...</div><div class="line">status = nf90_open(<span class="stringliteral">&quot;foo.nc&quot;</span>, nf90_nowrite, ncid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">...</div><div class="line"><span class="comment">! Find the lengths of the attributes</span></div><div class="line">status = nf90_inq_varid(ncid, <span class="stringliteral">&quot;rh&quot;</span>, rhvarid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">status = nf90_inquire_attribute(ncid, rhvarid, <span class="stringliteral">&quot;valid_range&quot;</span>, &amp;</div><div class="line">                          len = validrangelength)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">status = nf90_inquire_attribute(ncid, nf90_global, <span class="stringliteral">&quot;title&quot;</span>, len = titlelength)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">...</div><div class="line"><span class="comment">!Allocate space to hold attribute values, check string lengths</span></div><div class="line"><span class="keyword">allocate</span>(validrange(validrangelength), stat = status)</div><div class="line"><span class="keywordflow">if</span>(status /= 0 .or. len(title) &lt; titlelength)</div><div class="line">  print *, <span class="stringliteral">&quot;Not enough space to put attribute values.&quot;</span></div><div class="line">  <span class="keywordflow">exit</span></div><div class="line"><span class="keywordflow">end if</span></div><div class="line"><span class="comment">! Read the attributes.</span></div><div class="line">status = nf90_get_att(ncid, rhvarid, <span class="stringliteral">&quot;valid_range&quot;</span>, validrange)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">status = nf90_get_att(ncid, nf90_global, <span class="stringliteral">&quot;title&quot;</span>, title)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div></div><!-- fragment --><h1><a class="anchor" id="f90-copy-attribute-from-one-netcdf-to-another-nf90_copy_att"></a>
7.5 Copy Attribute from One NetCDF to Another: NF90_COPY_ATT </h1>
<p>The function NF90_COPY_ATT copies an attribute from one open netCDF dataset to another. It can also be used to copy an attribute from one variable to another within the same netCDF dataset.</p>
<p>If used to copy an attribute of user-defined type, then that user-defined type must already be defined in the target file. In the case of user-defined attributes, enddef/redef is called for ncid_in and ncid_out if they are in define mode. (This is the ensure that all user-defined types are committed to the file(s) before the copy is attempted.)</p>
<h2>Usage</h2>
<div class="fragment"><div class="line"><span class="keyword">function </span>nf90_copy_att(ncid_in, varid_in, name, ncid_out, varid_out)</div><div class="line">  <span class="keywordtype">integer</span>,             <span class="keywordtype">intent( in)</span> :: ncid_in,  varid_in</div><div class="line">  <span class="keywordtype">character (len = *)</span>, <span class="keywordtype">intent( in)</span> :: name</div><div class="line">  <span class="keywordtype">integer</span>,             <span class="keywordtype">intent( in)</span> :: ncid_out, varid_out</div><div class="line">  <span class="keywordtype">integer</span>                          :: nf90_copy_att</div></div><!-- fragment --><p><code>ncid_in</code></p>
<p>: The netCDF ID of an input netCDF dataset from which the attribute will be copied, from a previous call to NF90_OPEN or NF90_CREATE.</p>
<p><code>varid_in</code></p>
<p>: ID of the variable in the input netCDF dataset from which the attribute will be copied, or NF90_GLOBAL for a global attribute.</p>
<p><code>name</code></p>
<p>: Name of the attribute in the input netCDF dataset to be copied.</p>
<p><code>ncid_out</code></p>
<p>: The netCDF ID of the output netCDF dataset to which the attribute will be copied, from a previous call to NF90_OPEN or NF90_CREATE. It is permissible for the input and output netCDF IDs to be the same. The output netCDF dataset should be in define mode if the attribute to be copied does not already exist for the target variable, or if it would cause an existing target attribute to grow.</p>
<p><code>varid_out</code></p>
<p>: ID of the variable in the output netCDF dataset to which the attribute will be copied, or NF90_GLOBAL to copy to a global attribute.</p>
<h2>Errors</h2>
<p>NF90_COPY_ATT returns the value NF90_NOERR if no errors occurred. Otherwise, the returned status indicates an error. Possible causes of errors include:</p>
<ul>
<li>The input or output variable ID is invalid for the specified netCDF dataset.</li>
<li>The specified attribute does not exist.</li>
<li>The output netCDF is not in define mode and the attribute is new for the output dataset is larger than the existing attribute.</li>
<li>The input or output netCDF ID does not refer to an open netCDF dataset.</li>
</ul>
<h2>Example</h2>
<p>Here is an example using NF90_COPY_ATT to copy the variable attribute units from the variable rh in an existing netCDF dataset named foo.nc to the variable avgrh in another existing netCDF dataset named bar.nc, assuming that the variable avgrh already exists, but does not yet have a units attribute:</p>
<div class="fragment"><div class="line"><span class="keywordtype">use </span>netcdf</div><div class="line"><span class="keywordtype">implicit none</span></div><div class="line"><span class="keywordtype">integer</span> :: ncid1, ncid2, status</div><div class="line"><span class="keywordtype">integer</span> :: rhvarid, avgrhvarid    <span class="comment">! Variable ID</span></div><div class="line">...</div><div class="line">status = nf90_open(<span class="stringliteral">&quot;foo.nc&quot;</span>, nf90_nowrite, ncid1)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">status = nf90_open(<span class="stringliteral">&quot;bar.nc&quot;</span>, nf90_write, ncid2)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">...</div><div class="line"><span class="comment">! Find the IDs of the variables</span></div><div class="line">status = nf90_inq_varid(ncid1, <span class="stringliteral">&quot;rh&quot;</span>, rhvarid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">status = nf90_inq_varid(ncid1, <span class="stringliteral">&quot;avgrh&quot;</span>, avgrhvarid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">...</div><div class="line">status = nf90_redef(ncid2)   <span class="comment">! Enter define mode</span></div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line"><span class="comment">! Copy variable attribute from &quot;rh&quot; in file 1 to &quot;avgrh&quot; in file 1</span></div><div class="line">status = nf90_copy_att(ncid1, rhvarid, <span class="stringliteral">&quot;units&quot;</span>, ncid2, avgrhvarid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">status = nf90_enddef(ncid2)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div></div><!-- fragment --><h1><a class="anchor" id="f90-rename-an-attribute-nf90_rename_att"></a>
7.6 Rename an Attribute: NF90_RENAME_ATT </h1>
<p>The function NF90_RENAME_ATT changes the name of an attribute. If the new name is longer than the original name, the netCDF dataset must be in define mode. You cannot rename an attribute to have the same name as another attribute of the same variable.</p>
<h2>Usage</h2>
<div class="fragment"><div class="line"><span class="keyword">function </span>nf90_rename_att(ncid, varid, curname, newname)</div><div class="line">  <span class="keywordtype">integer</span>,             <span class="keywordtype">intent( in)</span> :: ncid,  varid</div><div class="line">  <span class="keywordtype">character (len = *)</span>, <span class="keywordtype">intent( in)</span> :: curname, newname</div><div class="line">  <span class="keywordtype">integer</span>                          :: nf90_rename_att</div></div><!-- fragment --><p><code>ncid</code></p>
<p>: NetCDF ID, from a previous call to NF90_OPEN or NF90_CREATE</p>
<p><code>varid</code></p>
<p>: ID of the attribute’s variable, or NF90_GLOBAL for a global attribute</p>
<p><code>curname</code></p>
<p>: The current attribute name.</p>
<p><code>newname</code></p>
<p>: The new name to be assigned to the specified attribute. If the new name is longer than the current name, the netCDF dataset must be in define mode.</p>
<h2>Errors</h2>
<p>NF90_RENAME_ATT returns the value NF90_NOERR if no errors occurred. Otherwise, the returned status indicates an error. Possible causes of errors include:</p>
<ul>
<li>The specified variable ID is not valid.</li>
<li>The new attribute name is already in use for another attribute of the specified variable.</li>
<li>The specified netCDF dataset is in data mode and the new name is longer than the old name.</li>
<li>The specified attribute does not exist.</li>
<li>The specified netCDF ID does not refer to an open netCDF dataset.</li>
</ul>
<h2>Example</h2>
<p>Here is an example using NF90_RENAME_ATT to rename the variable attribute units to Units for a variable rh in an existing netCDF dataset named foo.nc:</p>
<div class="fragment"><div class="line"><span class="keywordtype">use </span>netcdf</div><div class="line"><span class="keywordtype">implicit none</span></div><div class="line"><span class="keywordtype">integer</span> :: ncid1, status</div><div class="line"><span class="keywordtype">integer</span> :: rhvarid         <span class="comment">! Variable ID</span></div><div class="line">...</div><div class="line">status = nf90_open(<span class="stringliteral">&quot;foo.nc&quot;</span>, nf90_nowrite, ncid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">...</div><div class="line"><span class="comment">! Find the IDs of the variables</span></div><div class="line">status = nf90_inq_varid(ncid, <span class="stringliteral">&quot;rh&quot;</span>, rhvarid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">...</div><div class="line">status = nf90_rename_att(ncid, rhvarid, <span class="stringliteral">&quot;units&quot;</span>, <span class="stringliteral">&quot;Units&quot;</span>)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div></div><!-- fragment --><h1><a class="anchor" id="f90-nf90_del_att"></a>
7.7 NF90_DEL_ATT </h1>
<p>The function NF90_DEL_ATT deletes a netCDF attribute from an open netCDF dataset. The netCDF dataset must be in define mode.</p>
<h2>Usage</h2>
<div class="fragment"><div class="line"><span class="keyword">function </span>nf90_del_att(ncid, varid, name)</div><div class="line">  <span class="keywordtype">integer</span>,             <span class="keywordtype">intent( in)</span> :: ncid, varid</div><div class="line">  <span class="keywordtype">character (len = *)</span>, <span class="keywordtype">intent( in)</span> :: name</div><div class="line">  <span class="keywordtype">integer</span>                          :: nf90_del_att</div></div><!-- fragment --><p><code>ncid</code></p>
<p>: NetCDF ID, from a previous call to NF90_OPEN or NF90_CREATE.</p>
<p><code>varid</code></p>
<p>: ID of the attribute’s variable, or NF90_GLOBAL for a global attribute.</p>
<p><code>name</code></p>
<p>: The name of the attribute to be deleted.</p>
<h2>Errors</h2>
<p>NF90_DEL_ATT returns the value NF90_NOERR if no errors occurred. Otherwise, the returned status indicates an error. Possible causes of errors include:</p>
<ul>
<li>The specified variable ID is not valid.</li>
<li>The specified netCDF dataset is in data mode.</li>
<li>The specified attribute does not exist.</li>
<li>The specified netCDF ID does not refer to an open netCDF dataset.</li>
</ul>
<h2>Example</h2>
<p>Here is an example using NF90_DEL_ATT to delete the variable attribute Units for a variable rh in an existing netCDF dataset named foo.nc:</p>
<div class="fragment"><div class="line"><span class="keywordtype">use </span>netcdf</div><div class="line"><span class="keywordtype">implicit none</span></div><div class="line"><span class="keywordtype">integer</span> :: ncid1, status</div><div class="line"><span class="keywordtype">integer</span> :: rhvarid         <span class="comment">! Variable ID</span></div><div class="line">...</div><div class="line">status = nf90_open(<span class="stringliteral">&quot;foo.nc&quot;</span>, nf90_nowrite, ncid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">...</div><div class="line"><span class="comment">! Find the IDs of the variables</span></div><div class="line">status = nf90_inq_varid(ncid, <span class="stringliteral">&quot;rh&quot;</span>, rhvarid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">...</div><div class="line">status = nf90_redef(ncid)   <span class="comment">! Enter define mode</span></div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">status = nf90_del_att(ncid, rhvarid, <span class="stringliteral">&quot;Units&quot;</span>)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div><div class="line">status = nf90_enddef(ncid)</div><div class="line"><span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keyword">call </span>handle_err(status)</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->

<hr size="2"/>
<address style="text-align: center;">
<a href="http://www.unidata.ucar.edu/software/netcdf/">Return to the Main Unidata NetCDF page.</a><br>
<img src="http://www.unidata.ucar.edu/images/logos/uniLogo.png">
<address style="text-align: right;"><small>
Generated on Wed Jan 17 2018 10:01:47 for NetCDF-Fortran. NetCDF is
a <a href="http://www.unidata.ucar.edu/">Unidata</a> library.</small></address>
</body>
</html>
